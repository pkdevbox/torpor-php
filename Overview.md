# Introduction #
Torpor is a persistence layer abstraction in PHP, providing a form of object-relational-mapping derived from the design of the database (and encouraging good design principles).  It is written entirely in PHP, and has been designed with ease of implementation and performance as primary goals.

# Objective #
Torpor was created to perform all the legwork between the design of a database and the most common patterns of access and manipulation to it.  This comes from several years of working with database abstractions in numerous languages and scopes of implementation, from simple one-off scripts up through major infrastructure for insurance, web  hosting, and ecommerce retailers.  In almost all cases, regardless of the tools in play, the ways in which data is accessed, combined, and published, follow very predictable patterns.  There are dozens of projects which seek to encapsulate those patterns into common abstractions, each enforcing their own pragmatism on the implementation, and to date none of them being available for PHP (there are other persistence layer abstractions available for PHP, but all of considerable different scope than Torpor proposes to offer).

To this end the project was born, in order to act as the shortest possible distance between idea and implementation without compromising on enterprise level features normally available only with considerable effort and expenditure of resources.  These features include automatic design and instantiation for data objects, implicit factories for related entities, updatable collections, data engine agnosticism, and performance options for just-in-time fetches, bulk loading, and distributed caching.

In order to be useful to the PHP community this needed to be as simple to the end user as possible and compatible with established conventions rather than requiring entirely new or radically different theories or adaptations to be used.  It should feel, if we have done our job right, like the best possible object interface that you would come up with were it all to be written manually and with painstaking care.  Our focus on quality, best practices, and effective performance have been uncompromising, and feedback for improvement is always welcome.

# Concepts #
Torpor works with data in tabular formats, but does not refer to them specifically as Tables in order to avoid confusion with database specific terminology, since the data repository may not actually be a database.  Instead, the term Grid is used, and applies to both the generic definition of a Grid, and a record instance from that Grid.  This is mostly for convenience in development: the prototype of a Grid as a conceptual definition of the data is accessed through the main Torpor instance, and does not require independent representation (especially as only one instance of such an object would ever be required).  Likewise, a series of records may not correspond with the entirety of a Grid's contents, making that possible use of the term Grid inaccurate (`GridSet` is used instead).  It could be argued that all record level objects should be referred to as !`GridRecord`s instead, but this distinction was passed over in favor of simple concision.  `Grids` contain `Column`s, and there our structural concept is complete.

Heavy reliance is made on factory patterns, using one object as the gateway to the creation (or retrieval) of other related objects.  It is possible to use the system more generically without relying on this behind the scenes magic, but there are some key benefits which make it worthwhile to adhere to (especially late-binding data relationships, keeping multiple object references in sync prior to publishing to the data store).

# Requirements #
Torpor is written entirely in PHP and requires version 5.1.0 or greater, with the !SimpleXML extension and support for the data engine of your choice.  This target version was chosen in order to get the best overlap between capabilities and availability - some of the nicer conventions and features of later versions (such as name spaces and some dynamic execution mechanisms) have been omitted in order to maintain this compatibility.  As a result, all classes are declared in the global namespace and it is up to the end user to ensure collisions do not occur.

In order to cache configuration settings (the internally parsed and verified version of the configuration XML) or machine level data object caching it is also necessary to provide a writable temp directory (RAM based or other shared-memory-as-disk paradigms work excellently for this).  This temp directory need not be the same global temp used by PHP for session maintenance, and may also be omitted (which will disable local caching altogether).

# License #
Torpor is offered under the MIT license, which allows for inclusion in paid projects and unrestricted extension of the code.  We would ask that any useful modification be propagated back to the project, and will even say "pretty please" - but you're otherwise completely unrestricted in the use and distribution of this software.

Next: [Getting Started](GettingStarted.md)